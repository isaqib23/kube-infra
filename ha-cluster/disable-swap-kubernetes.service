[Unit]
Description=Disable swap for Kubernetes
Documentation=https://kubernetes.io/docs/setup/production-environment/tools/kubeadm/install-kubeadm/#before-you-begin
DefaultDependencies=no
Before=kubelet.service
After=local-fs.target

[Service]
Type=oneshot
ExecStart=/usr/local/bin/disable-swap-permanent.sh
RemainAfterExit=yes
StandardOutput=journal
StandardError=journal

[Install]
WantedBy=multi-user.target
